(this["webpackJsonpreact-covid19"]=this["webpackJsonpreact-covid19"]||[]).push([[0],{16:function(t,e,s){},18:function(t,e,s){"use strict";s.r(e);var o=s(0),n=s(1),r=s.n(n),i=s(4),c=s.n(i),a=(s(16),s(8)),d=s(5),l=s(6),h=s(2),u=s(10),j=s(9),b=s(7),f=s.n(b),m=function(t){Object(u.a)(s,t);var e=Object(j.a)(s);function s(t){var o;return Object(d.a)(this,s),(o=e.call(this,t)).newApiData=[],o.newApiData2=[],o.state={items:[],isLoaded:!1,latestDate:"",isSortedAsc:!1,isSortedAsc2:!1,isSortedAsc3:!1,filterText:""},o.compareBy.bind(Object(h.a)(o)),o.sortBy.bind(Object(h.a)(o)),o}return Object(l.a)(s,[{key:"handleUserInput",value:function(t){this.setState({filterText:t})}},{key:"compareBy",value:function(t){return function(e,s){return e[t]<s[t]?-1:e[t]>s[t]?1:0}}},{key:"uncompareBy",value:function(t){return function(e,s){return e[t]>s[t]?-1:e[t]<s[t]?1:0}}},{key:"sortBy",value:function(t,e){var s=Object(a.a)(this.state.items);1===e?(this.state.isSortedAsc?s.sort(this.uncompareBy(t)):s.sort(this.compareBy(t)),this.setState({items:s,isSortedAsc:!this.state.isSortedAsc})):2===e?(this.state.isSortedAsc2?s.sort(this.uncompareBy(t)):s.sort(this.compareBy(t)),this.setState({items:s,isSortedAsc2:!this.state.isSortedAsc2})):3===e&&(this.state.isSortedAsc3?s.sort(this.uncompareBy(t)):s.sort(this.compareBy(t)),this.setState({items:s,isSortedAsc3:!this.state.isSortedAsc3})),console.log(this.state.isSortedAsc),console.log(this.state.isSortedAsc2),console.log(this.state.isSortedAsc3)}},{key:"componentDidMount",value:function(){var t=this;fetch("https://api.covid19api.com/summary").then((function(t){return t.json()})).then((function(e){t.newApiData=e.Countries;var s=e.Countries.sort((function(t,e){return e.TotalConfirmed-t.TotalConfirmed}));t.setState({isLoaded:!0,items:s,latestDate:e.Date,filterText:""}),console.log(e.Countries),console.log(e.Global)}))}},{key:"onChangeHandler",value:function(t){console.log(t.target.value);var e=this.newApiData.filter((function(e){return console.log(e),-1!==e.Country.toLowerCase().indexOf(t.target.value)}));console.log(e),this.setState({items:e})}},{key:"render",value:function(){var t=this,e=this.state,s=e.isLoaded,n=e.items,r=e.latestDate;if(s){var i={cursor:"pointer"},c={textAlign:"right"};return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("h2",{children:"Covid-19 Report"}),Object(o.jsxs)("h3",{children:["Latest Date: ",f()(r).format("dddd, MMMM Do YYYY, hh:mm:ss a")]}),Object(o.jsx)("input",{type:"text",value:this.state.value,placeholder:"Search by Country Name",onChange:this.onChangeHandler.bind(this)}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsxs)("table",{border:"1",width:"100%",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{width:"10%",children:"Country Name"}),Object(o.jsxs)("th",{style:i,width:"7%",onClick:function(){return t.sortBy("TotalConfirmed",1)},children:["Total confirmed cases ",this.state.isSortedAsc?"\u2193":"\u2191"]}),Object(o.jsxs)("th",{style:i,width:"7%",onClick:function(){return t.sortBy("TotalDeaths",2)},children:["Total death cases ",this.state.isSortedAsc2?"\u2193":"\u2191"]}),Object(o.jsxs)("th",{style:i,width:"7%",onClick:function(){return t.sortBy("TotalRecovered",3)},children:["Total recovered cases ",this.state.isSortedAsc3?"\u2193":"\u2191"]})]})}),Object(o.jsx)("tbody",{children:n.map((function(t){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:t.Country}),Object(o.jsx)("td",{style:c,children:0===t.TotalConfirmed?"Unreported":t.TotalConfirmed}),Object(o.jsx)("td",{style:c,children:0===t.TotalDeaths?"Unreported":t.TotalDeaths}),Object(o.jsx)("td",{style:c,children:0===t.TotalRecovered?"Unreported":t.TotalRecovered})]},t.CountryCode)}))})]})]})}return Object(o.jsx)("div",{children:"Loading..."})}}]),s}(n.Component),y=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,19)).then((function(e){var s=e.getCLS,o=e.getFID,n=e.getFCP,r=e.getLCP,i=e.getTTFB;s(t),o(t),n(t),r(t),i(t)}))};c.a.render(Object(o.jsx)(r.a.StrictMode,{children:Object(o.jsx)(m,{})}),document.getElementById("root")),y()}},[[18,1,2]]]);
//# sourceMappingURL=main.bd336e3b.chunk.js.map